var express = require('express');
var router = express.Router();
var utils = require('../lib/utils.js')
var cors = require('./cors')
var tokenSDKServer = require('token-sdk-server')
var fs = require('fs')
const Base64 = require('js-base64').Base64


// var session = require('express-session');
// var FileStore = require('session-file-store')(session)

// function fn (first, second = {k0: '0', k1: 1}) {
//   console.log('first', first)
//   console.log('second', second)
//   console.log('k0', second.k0)
//   console.log('k1', second.k1)
// }

/* GET users listing. */
router.route('/test')
  .options(cors.corsWithOptions, (req, res) => {
    res.sendStatus(200)
  })
  .get(cors.corsWithOptions, (req, res, next) =>{
    // 处理bigdata
    

    // // 删除pvdata.pendingTask
    // let {didttm, idpwd} = require('../tokenSDKData/privateConfig.js')//.didttm.did
    // let priStr = JSON.parse(tokenSDKServer.decryptDidttm(didttm, idpwd).data).prikey
    // tokenSDKServer.getPvData(didttm.did).then(response => {
    //   // console.log(response.data)
    //   if (response.data.result) {
    //     let pvdataCt = response.data.result.data
    //     let pvdata = tokenSDKServer.decryptPvData(pvdataCt, priStr)
    //     pvdata = JSON.parse(pvdata)
    //     console.log('pvdata', pvdata)
    //     pvdata.pendingTask = {}
    //     let ct = tokenSDKServer.encryptPvData(pvdata, priStr)
    //     console.log('ct', ct)
    //     res.status(200).json({
    //       result: true,
    //       message: '',
    //       data: pvdata
    //     })
    //   }
    // }).catch(error => {
    //   console.log(error)
    //   res.status(500).json({
    //     result: false,
    //     message: '',
    //     data: error
    //   })
    // })

    // // 测试远端的pvdata
    // tokenSDKServer.getPvData


    // 测试备份父did的待办事项 list
    let key = '0x' + tokenSDKServer.hashKeccak256(`did:ttm:u011b80743b5fa85ade3a5696eef660b2bae1ba4ba2b84938f26f024cf3fcdgo to check businessLicense`)
    tokenSDKServer.pullData(key, false).then(response => {
      console.log(response.data)
      res.status(200).json({
        result: true,
        message: '',
        data: JSON.parse(response.data.result.data)
      })
    })
    
    // // 测试备份的数据是什么样的。
    // let a = '0x59a955b5178198e52052f1e588da785eeb0c8e10b3e3000c86773c4bddb70089'
    // let b = '0xc26560700a7c0b50937acb7eb9134132c3ce009e5c1780cb769ce58ee17a20f3'
    // tokenSDKServer.getTemporaryCertifyData(a).then(respons => {
    //   console.log(respons.data)
    //   tokenSDKServer.getTemporaryCertifyData(b).then(respons => {
    //     console.log(respons.data)
    //   })
    // }).catch(error => {
    //   console.log(error)
    // })

    // 测试默认参数
    // fn('str')


    // 测试验签
    // let {didttm, idpwd} = require('../tokenSDKData/privateConfig.js')//.didttm.did
    // let priStr = JSON.parse(tokenSDKServer.decryptDidttm(didttm, idpwd).data).prikey // 0xcf0fbbdac3353253cec457a81a560d916bfb229a710774747e29f0ff1c1daa59
    // let obj = {
    //   "businessLicenseData": {
    //     "applicantDid": "did:ttm:o085219a4ead4ff8ebdbad72bc99bbf9dc47cd2f9ae9800998ecf8427e4a13",
    //     "applicantSuperDid": "did:ttm:u011b80743b5fa85ade3a5696eef660b2bae1ba4ba2b84938f26f024cf3fcd",
    //     "claim_sn": "0x49ac373cca54410f4570540bb5925947bfd931bf5def21ee143774a924d55508",
    //     "createTime": "1594864821000",
    //     "ocrData": {
    //       "unifiedSocialCreditCode": "91110108MA01BM825Q",
    //       "name": "北京投肯科技有限公司",
    //       "type": "其他有限责任公司",
    //       "residence": "北京市海淀区永澄北路2号院1号楼B座三层30099-244号",
    //       "legalRepresentative": "蔡明军",
    //       "registeredCapital": "621.7722万元",
    //       "dateOfEstablishment": "2018年04月23日",
    //       "operatingPeriod": "2068年04月22日",
    //       "businessScope": "数据处理旧(数据处理中的银行卡后不含立务承办展示活动组权文化艺术交流旧值在14以上的云计算数据中除外)(企业依法自主选择经营项目开展经营活动依法l须经批准的项目经相关部门批准后依批准的内容开展经营活动不得从事本市产业政策禁止和限制类项目的政管登记机关★在线扫码获取详细信息G提示每年1月1日至6月30日通过企业信用信息公示系统报送上一年度年度报告并公2018Goncocnacnanoaucuacn",
    //       "registrationAuthority": "北京市工商行政管理局",
    //       "businessLicense": "0x3d60ae00b09686201e845632da3a40c818836e2eb8fdb70abe073b2772e3da24",
    //       "longitude": "116.653648",
    //       "latitude": "40.12218",
    //       "applicantBankAccountName": "百度科技",
    //       "applicantBankName": "北京银行",
    //       "applicantBankAccountNumber": "6469494646",
    //       "receiveBankName": "北京银行",
    //       "receiveBankAccountName": "北京投肯科技",
    //       "receiveBankAccountNumber": "88888888888888888888",
    //       "verificationMoney": "0.13元"
    //     }
    //   },
    //   "sign": "0x4b6db5053f63939cad904da1fbf8cc5c809f8477d6c3938c6048c3bf61ecd8b623c5d7a2f5402951f380f4b668d1dc1084b82ea7bfffa838e638fd992e1f2e6101"
    // }
    // let signObj = JSON.stringify(obj)
    // let hashStr = tokenSDKServer.hashKeccak256(obj)
    // console.log('hashStr', hashStr)
    // hashStr = '0x9d25d6990ab6068fab344d7f07bbb7173ff89ad0967327febaa420214f9fda44'
    // let signData = tokenSDKServer.sign({keys: priStr, msg: hashStr})
    // console.log('signData', signData)
    // let signData = '0x4b6db5053f63939cad904da1fbf8cc5c809f8477d6c3938c6048c3bf61ecd8b623c5d7a2f5402951f380f4b668d1dc1084b82ea7bfffa838e638fd992e1f2e6101'
    // signData = '0x4b6db5053f63939cad904da1fbf8cc5c809f8477d6c3938c6048c3bf61ecd8b623c5d7a2f5402951f380f4b668d1dc1084b82ea7bfffa838e638fd992e1f2e6127'
    // signData = '0x4b6db5053f63939cad904da1fbf8cc5c809f8477d6c3938c6048c3bf61ecd8b623c5d7a2f5402951f380f4b668d1dc1084b82ea7bfffa838e638fd992e1f2e6128'
    // signData = '0x4b6db5053f63939cad904da1fbf8cc5c809f8477d6c3938c6048c3bf61ecd8b623c5d7a2f5402951f380f4b668d1dc1084b82ea7bfffa838e638fd992e1f2e61'
    // let isok = tokenSDKServer.verify({sign: signData})
    // // console.log('signData', signData)
    // console.log('isok', isok)





    // res.status(200).json({
    //   result: true,
    //   message: '',
    //   data: ''
    // })
  })
  .post(cors.corsWithOptions, (req, res, next) => {
    res.send('post')
  })
  .put(cors.corsWithOptions, (req, res, next) => {
    res.send('put')
  })
  .delete(cors.corsWithOptions, (req, res, next) => {
    res.send('delete')
  })

router.route('/setPvdata')
  .options(cors.corsWithOptions, (req, res) => {
    res.sendStatus(200)
  })
  .get(cors.corsWithOptions, (req, res, next) =>{
    res.send('get')
  })
  .post(cors.corsWithOptions, (req, res, next) => {
    let did = 'did:ttm:a0e01cb27c8e5160a907b1373f083af3d2eb64fd8ee9800998ecf8427eab11',
        privStr = '0xcf0fbbdac3353253cec457a81a560d916bfb229a710774747e29f0ff1c1daa59',
        key = '0xf1aa1f4416c5189d150eebf3a0bf1d514f2c35412a3523eb9e3af41375b96b74',
        // originCt = '0x071684fb67ac6a14c199a746646ffb2219ffb3b492fc38ded66faa5f2775162b5298d98f51c11471ced383e631c2e26cdabf5422bf47e9147c10ac8390984ca1cfdef5a91758e3a14fc217cca0a7f2ed08ef8beca93f1ae112b40c393bdcb891ed0d28ebfecd85dfb810bdb449729fe1b274d2922542fdbfc05182009ad2d1ec64d518f5c77633a3e6fe4f4cea391edf3a07a7c099dc402c3740de8b8160e9404b8942b35cc8e483fd6478aca9d254c26352e88946fc1b634fff28fb0a18e8fc768a1a7c0d1d8162b8ffb6394a3cfd4f8cae64f73ca4cf10f47e8e0571d2b33a5f72bc3f7bd4aae680f705f620850a29311165f36a9f2f4bcecc42f1eb90125e544d0b7d991f4105241eb8d093d9c0b516941fd7cda24d4c452c75d5d63b32099252f39e9a54d8edce8526bf87beba986ad69ae4ec23f26183fd502803d42874bc587251305fd682f889569ad521ad43834b7ada8f1ade61c4618fcd733c51e93a923497a98667769aa640b9444f9a108813ef91b1f2389c9e2a4b92c8d51760f69a3bbec92b48c28e61e38396980ef8535d91d9b3c070573bea9d0f3b28125fc538c4731f01c8de0c2609b2708016936f02ae1dbc0124d06ad65a775c6f523083f5d01ae529c02a06095b9bc3b51aba6d40354cb8a45e1c1a53e732ae58be9e683d905167519f8fc200089ead3eec704fccd0ddd17c7bbffdc991a0043b03cdd42810c40da61a4857b497c820f5e42088f6423ced8a34c264105780943342be3345bb8cc73cf233ec3d6f91390f4ec902535bf18116dcfcc069e1651b6d33203df56a40dd7ce5a476c2c0eb19956f726f7b8c6944e86fbd477bfe3f2beebf7eeddbb79f77a1bff64a5af82f035dcc80fca63ac3d0375a7a6f1bf149596cb1a1fa035aef480be304da9ddd55ce07296366a2c1c8c8613d8c025f3aec11bf4416d015faabcb19c6d3db4f348842162c22b5fb601f5a90000980b1a866676cf5b08aa430e5a4c82344a29b2ca55527f860318e7979134544c0e23e52212ff7507750e0cce6ded6516c1bf32c49c290094c0555509f3019609c220ca45a7ce2a39c2b8edc9383fd4d496551e542cc14b32f8691d7b508e70619c44e6e6ce991fbb113ebd7b2c461e467a9a229535d21cc1f65a12e06485b8fc996c8a4d9d868481bef456184fa761183b5db702e1102043da7b8323864c5420e2286be1c50f58727437ed834d415545fc9d6a20d5ea13f05fe44eaff856a6b647d74bdbc220aaf0babf47ff7c2dc914decb189fddcb9577b69e84171d2a57f708cca14723dadbec6f09a508452ed8662ad92037a12fa398a169ec4a6378ddaf469f74fdb4610b7c1ba3f4901aefb0fe49c1d16a86e36255707ca30b424d992204d78509f14a7b98a8628248b91d0d6fa4382d3071ba4de40c7a4da8f0cf9425f2762d660542a635e9278def4b51f9839d3e5e63cbd9137c18182f0fe8d4cff6cf9e39c05caa20d705ae50e4fb4ff2de347faaf204606135c96a2b6e23bbce8c5b36cb1baec980cc07e00fb268da5d683511cd2f5cb000e88a608fd32194db13397644a965f9082f98bfdb2a2380de25a26a09ea54c64e58fa1c58ca9d7dd35cc9ef786d1f02c07e3beff6b5f823e73b7e9895a62af6790a7b498bc74112310b4becc9bbb46b603f52acb4569dc5219a24ea753d03dd06993e6dcc4ca6f97d5ee864805dcb165aeb40f7555e7ba86dc2659c6a681604ae74f8536e739ae7b4c51bd9c76d9d049278233a8cee73bef0f9a9dfd2109ca018b6657b0496a12f1684547526474d54eeb497a49d57a48930505e180052fb3a36686eca59d93a6d718e7d92d36e0a2b7c5ff60333a9c18f45547990b8af1875539f1c010c0a467d93c899af12f397c528f07f9f617b3cb6b38f4795c0e774ddc7d528dfac1187adbdff8f5d78a417ac8e07817a521fa505cf59451464b55429c1a03b9e035ec808862be7a3bce930bb16edd0b82d8f6bce7f1f23d8b09488f836100d49280a63461c884e240c942b92968fd2f91c5b10f1c4bdab636c2fe12e1d5cb2242afaf19b16eaf206e20d37cec5a2b912cb4eaa8be9ee72599ceebe29a6b087b942381dce3e243237c38eca2474f1b6cde10d7f7e4e02b816477db7190c050bdad402c6765f8628cad11209e558fe2b9b44db7d2f1fcae91a66088e7288640d54474c394b69d15bd9081a061248bc9a57fcdbdfbd0bde70b7fd11a35fa4c4e9aec8bcca749964e88a50d344db8d65f018b3cf69643928359e58b1fb3ebe681bf5f3c8cebc0cdc39f774fabf96278ba63d9a3ee84f6d312342a17793f1cce7ebdd350bf5dd3af8942ea884fef006851700cf57dd76f5c2297d34fb635f763e6ddbd0b26dafe74a6ce0463aa6b35ce5107ee51d80ff6a99084becc0838fe3e254626799414c3de64715205483105fbf3b057f6be888d37f686d83af5606b45e10ef271e68f5fa7a147577edf1e92194879cdeaa0310185b70e42bdf08bffbbe7ec63e55de8c54863d8ced69c6714cf550c9e17d618cbf232a74c38768d840020b3b85982cb10cf78e73aef7b4e686a174bfaacce85859d3f88ca43a8709eb83d3b9e216db3357c05ceeb2cc04dcfce58fdefcdc62780764e3895db8e4b681e133add988a36c66681899ad7c7f77ce88ad537408d5ee726a59a5b6ff8ef666351c9a8aea8fde3483af8f115819aa7f91c2ce7b0bb40137073c615cfac3c9ba6ae9281e7d1b1460a65e0e4c5e7c1eb001e60b3e72732a7f8d8fa8ae5aa17d9aaa5e330d592422ce38ea736086254d5ff4653c07e590f5f432eafae194421ec0e6d79342028e27ab19e6da6a18cb2aafeeda836b9b0aafd61b2243b80040e17191b9a3d1fa9dd5352ca22ef79305b74fc021d8930644a8640f1a68abdcdf6a984c5de577a9fd64211828b3beac0149393d52617c0145874dec60a34e6dcbb6e8a77a4a960de25474d1d6a69116c99495028390dc2a5bc719b489e12db2819b9046a9ea73b4291ab5854e18981af6f15c879096050cfdb82be2da541de1ccbf33999c7549817171a1aa10fbbbc7e715da21f4f94737fcf15d134b41559565b8c15ce85d0264f44aa89449dd48c715a35be2e17a8c4540932e4627be67a267f9742954e495f07c3b78f3158ceda9c606a6ff36b9f7a88213df8916364cbbb60120aa01909474a19d19371fa1617657e16ab70c701088fb1acb914ec033bb7a50f945d2ab337749d70133f84dd4bafb82029f3a64ed44fa19189a872833de99ebf75dc244de511db8433d24ee73ae0f014ba54a7d50af5e0a1c2fe9716be2fd78e0d315afe5ace7eaa6ad5c66f3df7487a51b3a58dccadad4d7fbd1be2d9d1f7a5f7b89c240e9994d5063e07d51ce4b1244077ce9fbcb9747e9485fec17b65488a21c4e4aea1a858695d172eff29b93495f8eab237312bc75c4ad3d6a9b1394881041bb9e56be3ffd68d226b0c732aee32df73d94f6af33c0d2cbb1a88fe29c1d41617d3e027162c4c9319aac62d5e0e1e1f36a831b82e2fb29e276099aa3ba05ac0ec7968786d84e2b7c4f8542730738f178500c37608c57d8ef48088e81b472f2c5cf35284748f416010cc02a78548ed55782fd69c864b1699dc662497cb32e1d722cc14632492b9c8978317c76fe94fd76c2b77a705e80f7f6267ee00c57c03feb0466243f9b37dbaf49f6acd08ca192715e076f86ac19810157362f2fd269925cf384748e01ae2879fe6a9d645e712637aec3e39369e6ab46c29e0255bfa0356b1adfbc00dac7653dad32c451499aa6a7aa54def57bddc05cca5df873119cca709b03d8f8e8296fa605d7cd26438c426906d38f205890b78831191ff6d06aebbb50374e5487d25d053c7916ccb57d31f11f2ac68258f3f0560d6ea8ec6564fb7de73d80e9fa394783ddb56f7f2032479607f1178605a7404b3ca81551f0d17b18269c1b8e3ed9dba919519bf5615760219040343e5a5ad3835c10bcada465c24ba033b85acb9ae17973a3064efa81876a3c2b53453e82e68bf4259cfeeaa55164f396c6f7a9530f38b52cea5c04b3e738444057f47cf97b5f350388da6b5d7be3c947c529a1dc581523c13127fecd38f0dd6c738eda6fb8b51c07313c09d77d988fdf59b622ab08622b62faa9f4891548e286f447e86468822bac8660bd6170f06760b9dd3dab6b360925cec8b8d27de9aa0ca5e86aa6f3ba122b646aea04ffe7dfc978d7c55690732d7bd0f766324a11223dd308c3017006b55beb2e24ba0a7dd1fb168621ccbe918745080fa179029e0abf603ead717b19356ec3f40ffed11f6f5a25988eca970469e2f1f45ec39d7da4ecaf1593e620907033337f25e80a920887f60f96b5cc30a27089b3e2e308a41953f2ca85afea0fa28d224558c2b23d8b60dc3e5cf9a8f270013ff2f9b8bfa5380cc5e5d5e20ae2c4f946fc5da166de69a326c21e79577e6e73cc0dbc47ee343b50ccca162388bfe28ccb043e83054721d26e7a2eb1a83687e5febd5710a2c5ceeadde0ff734deace60205df4ab315c7e1e3da80da84cad1c60f9db227b6eb6b28ab6279ee0b02bc6b147bf1b3eef02363c045342872073dfe37eb1fa4c49c373a7b2e7a51998fc4c440edd44ede056c2af0bdfadc0b375ef773692958690746833142bd34acc80fb4eabe9ef4c6ddb828103eddb7fba9bf5c02e9613661b4e723c4ea915274b66152c0d16b926347b3f1e0f446e39de45b5e04a63bf4c4a2fc72863bfb1d99d1daba6b2b752114a88c6cdecfaa590732a8d89560834bf764f10e7766f7fc77e25f89b9d443a9baaddcc8cfcaf40a2f444d7460d520f76fd3e6a075937b81940abb00415f30289f7a82dc69d6d60708af0f3cf6ad9ec058d645ccc69b5db746e9eeab8caf06972f09418045002080862f6d257cb5a2f14d7d4a3b0fe99947457936338365b5aef1b83ae739cde92df1195ecd8085c8bd754399891c28185dbcfd697edcc04706788cf7906a920128f0fff3ecdc37f1d6f1149f90c722fabd69291cab71f8cc64b24df1cbe81b13164d0a1fa2fb603a38524d0451fd6ff3a11dfef74cc1f8eea2d3f95cd01ffd96ef9a25017fa99e7f6643aa11e3a70217f3e5e5ab535d6dacc3dd696aec2e47c5eb943f12df86f40a64b6caebfe704259304194e7ac35e3171f06c5fa4aa490fde108d7931c0b2fdc1681605048d93dc3ef60a35efb1c4f70c195f2bb919a817cfd0ea1302f2e28b400004c7c9355ee84ac602506aac6cc0d06ea32a49cf024bb79ac038ba6d51677e51b60d8548d234411df5d6ead39eebb36f55b714fa7ea2f6d3b13214104e26af239fcbd8b3b7b204cd8dc4124a8a97142f647b06ba7198cba6d73aec0ca099b43981281833e153814bd805b5520e96b11882f26bb5b2dcaa46c04bc4fcc90312964962d31ce6fb5707cd8b6f02f757286c91dd97d1c3545239dd0e70a76b7ff7f33c7c1736969813af93de913dc21a5b32c69effd383b5ab952394b84305e283207610b430e569571dcd19825cefc9d63670cfdd0dd33c676ddc8c8a3907a9a6d6dce470921479f3d4a4951a0ba5068622e266ca31ea635b2952e62612999a4247e74efbd063737c45a569cf16adbd677fd2604d668d30ab23b9184ccebb680aee6bafa255d02d38aeea38ef5ad377351fd4f575204a69af3aad2a1aee383fce615c082a26ed92a40c842326712ebb14f5a251dfd98cf03e64d3239a4fa37982250c09e9d1f62c1ab5d4e67429d9d1626236b7dbdaad0039be9d682667fc8bd56a6c840b58910fe11b65d95ead4a91953293bdefba47ffa12cfb4d7d07fe8709be17c76f82d452bb9b5cc318da270d403cbc95253cd871a662d49461b55173ce8703d0b492b7870e8319977e5d85844b0d8ee2bb7e398d52d85b06d0a770317659a65323164bc812c7c6eee79dcdae2226090715f01d6403b0ef76e76d46fb8ddb04305a41d72796eb6d5a8fd052de8059810bedbaefd423d5ea775f32ea5283e8440bd60d69e6983210e23e64e10d7f8eec15892edd5b966db4de10e32383aa91687828477bfa4dcc91a09b5e461410ac259f84b7ee669fae38c5197e72f62d522e9b95ab195c430034ff5b31f1724294c5570c5b9ae42852b7754fc5fdae339897e19cb17651b6ebf95ed1d93d094336ba1ae623ce0171df93bd668a3267a240eca500cabfeafbe0f228cc91d390c1b4344b86d6c53f1e42d4005c99d4f366a65714e2a7120da9aa782f6ad3e810e06272042e24be563652d75da2d4a770e81a58df8ea6646b76348f5643264d95019a8b10e1f9f1a2fff39c4d5a3f9f9fd05aab3445eb956c541ebf6be97b9405e0ed26dc7f14b09aabc4fda0a51011bf9bd218f737159669deb5a0714d8d1d6b1bdf54b2a5e7be2a1a698874f92c3ad7bd2337d2694341f13c986396e6e553ac11d1711261f93d661659a3a6a2f37e3a67f1c215f8c2f29a6b79c086ac43e24ee632f3acab686b4869443ca51bf5b7663b76871801919a25e96cfeb86d572d9013165c924d3f4a3eb65eb82ebcc553d40233ebe09b183a4ec9b3cd07fb5303f025da340d35e654513cca8c5616cf8a34646dfcdec9d6d5fcf3160b703c5395605463bf57e2af6956d26bf976feed8c48438ed294340e6e4d22b6b2937e37aaf5b072c45d9c105570900f94fb29d8a9b1eca762002ef01ca991017c1967a64603dd234fba8afba4704780d1567e28dd049ef9d970a9baae3446d9750fd68b1a996e6052c9f9598a3b8e2511021eafe82485cbd28fce5aefd2497efce5e4e95b919955ebfc4979c44c9712091da9e9884d432aae0ba95889156dc65865342f030a97deaa4944efa9a57f64a69d8000e673f45bb04ed68662472f341d676f730e39c3ad0bc821cc40b71184173a41a7e395e410ed5f99d56fe9ca0f7f1ef3fb7dfce9b60ee467c19cc4a689c901215122f3d9d347d6492285b25c51e417f84334682fd586902cb9e9aea2e0de6efc6c083d53481f6370655ff9e54cff3ed4789cb72dc61d752bee7d6c050947134ca83ec7af0b451948bde87e47a34aa1ccd63eae79ec1eccf398b3c5abd9dd1509b37deb93793b82bbd251d9bbe286fc20dbd83f767fd45606f8c7581b5fcbc3c80bc91a8b94e003eb539501b7b150c53b08876a344162cb4237a790fc94c5c8ea98c3a5f5999dc58b0cb1bc44c60974a08956180ab78a95699a051aec2f8f1aa0c1c4311f5a216b310388081b1f91a243f41a39530c1306175fe755ff1e1e1af1c5a7be6036f0eaa2b5da44eec0cf9b95ffb4cbb218c8b5434d77d1f8a8eacfe6871020a94b554e00265114e085d0b4a86aeeeb6cd4e2efdaede19e4a63daf1076ebbf6742d3d9d674ea9e26803480b19c338e24f4272f4371250f0a92aeda926fbef1782f6ef71bb9e15b948537019f5fc25b8c9449c6e2a8034c6180c37465477d001f57e8548fb7a3e97ee5e02e3c71719d1cc4f3796753134ec2a9fe75195a8721f7067af34458c4b715d0f8e3679f9fbd6df80565550b30ed07dcc44223f17d90decc4147278f70a8655e0882147d32dde9022efea57d50b5a650a43b4642931222b65a98a603cb6f09b0cee7e29ce7ac71f577f714ac14142a3d428d84f8836eacb64b127f7d6cbe5d391cee3477e1c30d8d6715af41dc93f901d80dc29ae9565609e2838d6f4b87279fef3faffd8c949229a072efda578c8f12793954183a52072322109fee8b037b22034c633afff05512a74588e19e4cef0916e36ddcde6aa186fca0659fece29e3c5ed52b439337a3afda04d8b58adf463a3811423d254047839ebdd24e4bddd6916282d2c293140ae52458681953ea415e6f3292cabbe734807b41ffa8bd8a75af9b3261c9dc98edce725c11f0855f9795dfe77603269d7663d6732a0dd73139d63c40a524a50b3af8f6635c3b57b27578ea9f788103ff39d72ef5e707485f70d6ae62d935ec519b67ff1c98bdd2f4b2c154a892b58155ef499536fa14614c2f7e5107e8f8e1cb29eb30f303f60fbcac1d30208be9037577b36718a44c4c64a327fd6063d8a275fa273415353e63201ca011e710d0c6ffd712ef2458bc9e88dff663bde9cb98561d49af56cd604983a5c248525b5f95454ed63fceb5209d8a77cb0953b203b03eabf7bbe3b49e1b003954284cf6528394f5139ff8bd33c101d9e0339de269691b9b0d6680d29771de115ea12a97f1239c5ff3f0962da211bec3cfaa10cf20a5fa7a9224b00008f2cc7144bc2d7f6321eb07cb8e279cbfbacc4cf9fdccc574840b1d485d7186918101ab2f1d7cfb260cb032fcae3fc116f79824083304ada9964b301b71251f5e093852fd5a4fe7fce73973dfa0a36589a2ea6ca89296238b0e8c2b6637b799bad5d65dd6f7ecd97e9b6cf9b0a6cbf63505a6e9a3b09cfa3c0c515b1dd878c6f6baa62b65ab61e41d5161567c2adfb060c0680c7751e80608905519267a9b1eff4b902569c55bb994a9377ca6d553af87ada8ceb446c1d3de8bdecf5fa98064e6fbbab09a1221314d6e6fa13726a3a2b111e509c60d7002397fe3804203e4c40e753d4b5047f5a72cfd55720b69016aa3d845c0baa0797b28b4d87e7ff2756cda13e0cebecee1d411ff2d1b02b5200d3554f93d2e1c97ad7b9b1711c81a0b0f83c42fd8b638ebb891a31eaee368102d367a3e00e0694dcd7fabef052269012f71db09fd54198293deb007b7f9687096aeb30e31dbcb1a75ccd2d3a75e7eaf3db6b560dbcfae9302972bdc3c5016d44fce027c2d2c809a48a6e1fbcd29e38338cda0114e1dd1904f5ba21076175ba9b6b3ae0dc54a1eb195514e6a92e90bf1baf481978f6bb4347cd6149a9fe2bf86b8ce74c434bb2e16334a2f9453c8993a9c43e2431fb5c937f83ddf95b81585d6500aca7ce946a74ff4c25a058da402a16c0f1b4954f6a4b3f254ac4023f728787f9353950d29d385f48cd7e6bd5957352171612126bc95aee23622b63ab0b8459c82f11a5283c942839ed385cfa0c9e3d94242b6a09bd7c59edabba5fd854819e48e0909091c1b57ca871b69ec3f09b93a63718f806dbb05ac8242798932f16a1f4697bfd1fe3eda9258afa5e6964058aeb83baa0f769739dfee50a2d53d1fef8674d9e56586179c2d7b6d7554371b7bdcb0388a732b872fc71ff3d8cad1cbbf90afb6a108eed7dfa6065cff0dabc11077d33a5018357b8903ea463673d320d12d8b8ff5c4372b6837785f8b2c5244c349686afa3b28ed9eb626b3fe389981dae646d7ace1aaa6b8bbfe628de4974bc7c85a453eba1c757903fa3c2d30a1e0cf578fa50c532665ec04bec22d103d25f16d21b820df302e1709ec435be4b8cca9f74e66322a6e5fa62ada05cbda43990874f19ce85f7fd837e33e321e99865896d243453d45fc15a8f4caca9d7091b4a052af4122303eec0495b4fe6e35edd318999f60bb0a26bdb8d99b1e79bbf7899abf6887e056eca06032e4ba4e100727999626412f1d3e178740cf0c677ec59c33a2c39a8f1836a4ff2a37dfe001e60bba15a504023b2e924383404c7969e0b0a0158dc8bd0c0eed549bdcd4d18c3177537a99a420f7198d2fcffdf91ad983588828fb295212f2a7ce1e982e95fd9c25613b03e8e22312db2f9f6c6974456e3b218404b8136d43414f3dc200ec6994c1f718d6ab574486279ff923cea6d9a5d812cf4bffdff985f7c90dbbaeb7e3d5c9b6cdcf9ae7c7f7b4c17a6c9ff1685f844c24f7b9b6e1493a0e6a6685a959e90ed2690292a647ac36400fba0bce6834da10a0addc7cc62ef3056a144153f364c19ecf4f72197f3a123915a76104ef3642b88bed1a877190ea1fe94e7c083ff737fc13fdc154ba3e7276160248736c284879d71e1625a142deb560eccc87643350fac0626335f089d965ff2a2d21166851f2186baae076f239b3cc720c2d971cb02e6eccb7dfb699164bb643c54f4cf54ef8cb678abbbc56d8cd681a99f9ace889518d708e923aaf2710d069a5872d2394822fc00884cd622f8b31a89ebddcff17daf4e334e20cd520b4ef456df334bf72b20b24e3dcd4fe38209e38286bbd780d14ce21ee68e02331c6e085ffbc907f015e65c173703b913d0cdd6d06a3b16ba9f1155801286d1d990889c92419a17432e98f8e3e5a67d27bbe0999383a188ce8b8aed0ded3606b34361c363d5a5bc8d8ca69d995f91a4b75c17b8dbc1c9ef91dea1479be3d39bd1e7db51de8c812ce0870f64a37cc53f185dde53802fcbd39d1732d20de3cac6a023b516747b964cc3041a4c540c680e6ca6971f0ddacc4c7cbb5e37ce60d50c799f93739e0039f82f94a72b14eff093c796e6e30e28b940891a410c19f442eb8d32b2fd1c3c6a3c8f6f4dd9afb7eac1a3574fd9f189e82b7d80d93ccfcc30909c98c77f658185c7e0b9569f892a99f286dea08e1a5f26be560176137432b8e1b115d4f8b9038da9da1bf15702291dfa533591e49fb006bd86118a6ba10ced1f5e1e3f368713ef571254da674c9c1d5a131e946b621bcb0efeac2f09c85365f60265b7b0892f875588b9870460495f0574db9a86466f729e65eeeec4a4655048d81f2922376c59ae0c8328b6100be4958fe8641e1024efc69964fb67cd117b563b4c68e7ff809c14f8e41316ba16d39e72d7b585b7ac169a6f3fc4e3f0906cc9c0d7f897c1643eab03bb2e697c0b50a919d633fdb196f8492bf768b7543bdf39ec496e2e57e7038a9ed6e11c3bd2cdf881ee326cb56fa25e0266c0943c3ce7fffea080f60c1b79e20d0cff90f61535ff564a839c68508114618645b5f78a886d80bd7b7d4f511c1420b686a70d3511ff8ce312688ac4e076ce2ad6338e0d2fa269c4c393a0684c39f151ef199419f43e112431bc2392dae7e193f550eb0a2753de8515093f8467e320abd382167b4eb3eb4c434ce84217880977008dafe41ad987e5a4c48d43eeaacea9120c2c8a97be7192e7592e9cc5fd48facbf3098283ce59f6803edb4fc3e8cd493318e970ae532d31a6155cad8900c6b0024132354a5588b07564429630f450b4a0bd140813c24b80b9fec5853863c2e04c9d2f614486befc9797c44a5a63c829aeeb65c47ce3fdc849da23a7dd6fba74a03e92deb01bb5224cdcd2a3b8a2cc693cda95e95aa12257e2531bb6e2a87b2f42e1cbabd332b0e232765e659c9141e8736b0339430a9e5de7920eab14d8d5dfea6abc7d42bdc275dd128e2d726ab56faf784645dbc1edd8d7b9e1e7e7201a5cae49ad385aa0d0c24104aa26403c7740444839f64ab4035633fcda7c24d9a02df78496164b02c4e7346f673493b42f2f0839e28f483429be3c6cf1fb7c73f65fbf9454e9d18fab4c9f1dbfb212f6692ae32fb9a4724e870632d45f1ba33caae28f14cb98f1559a0b7fcf694eeb55fa5111c9822cfb2c6d1362df5e2cd3b20d1e311bafbc288330ba64015fcd5d90aa509fca1a0bc0a4c427c54eae75cd4050e990c25c5e8df03b0813bb06ba7a37ed56805fed9989b424701b6a7d96a8f24176ab675e9a02fa56b48c842686ef8a4b178fc6e4813878fd70bc1c22d1dc9527816aee6ad3ca3b4ba4d597c0c2318630aadecd40e982e984b9af4dc0c66351b5f3b169e264529cbb816c28edcca60cb8ef7cea5b9954edcea892f4b994a9b2c9b87ef8161f27f8c7dcbfa8de8b5858c56aadf607db081efd890d3a191368eb49d656d423850031ad91e77dd64964f681d903dff5bac86b1ef9f66c8ca6c043c47ace85fde62acd50c794a4bf17e2db6a054eb2a3230d4a1655bbb2df669ce0a2284ff7d550d28e35d825e1bb3ac35f058e66278b00e016c01baea9279b08eaf1223b3eedb8c1e03cc40ac14bdc8ddbf16ec98d19ce33f407e3cc75c9cc4fef9c09684ad6dbcadcf2b87981661742b7cf58207f4c1e1ff469cc9a78cf1f9f1b49411a6b540d9531f2bb15952b14dde0065574a',
        originCt = '0xcedd9ec879f14ea1e4785cbc1748acef29753d6137ac569bf7b31c8ca0bff9c073801652eb28c5dfc67427023ab2c0cd221b820e2c864ce55dfcaeabc975a605bcf573d9b09660841541f66774f573ddb800805236a13a01cb5dd35bf39298f66170b2075be1b6f74c2ed4542e80028fcd13f4b08eabdd012fbc3e3c9d66d73767595c2f04541542670cadb3b19240098364f850cf771b9b470be074061c282b89d683ff48ed25c2a03f17f179097ad62ea2c3046f19887a0e505cf68a77ada3c7cf99d0d5e58bcb92eacf3ac29e3c8532fda9d45e6bc87244616ea999fe9d49a12fc4a919c22f55c383c18f1c313e07e453cca3d2aacda53e58cc5adfa381605ba583148fde53c155be335040de721bea2a35fff8dad47d9c7eb9e7457d15f0c5d3364a2012f2871cd692fc03e1015445109c4c4179ce413be536942b8bcc126e5a319fdbb1a46c3126469e98edf563184cbf404d4ce640c308a02b5047da4df0507352bbcbb4954f6e53fbfe6ec214a20d54662cc0b119d7469347dbee4be00045cca417cbca40afcca84261cc26680c98064c86fce418e77fa63477b9d7e86a4e858cf57d06c048dbe12a6780756c7334fc44b57ab04af035b4ea5c21dbf45af3ef60971c4c5568c067b49147f18f6b940e9dc0064a2df4604d9550ae58d4b255ba616319787159045e3bfdf8bdc9175a1394d8c59fcc3d8f8dcc9bd0a1e37e7ae8f7f791614ca9d34b074b70049e5e2b958dd52f0f3c3ae72b3c18dd8d76771548e3c62b4fc9598d7c97ea3b54ce40ac28a101d1a2818da444b6fba9c0a47be5a5f3b8a5cf281a9c5355981d6704c44931aa3922231b6f6d17498cccb59d0558c10dcbb19947349161f6170f07abad959934df55ce3e8b147ca0720d1779bb8bd7818e8e01afd51c40000f13c24052dffc8e205f0581170079c04f60c3a8b98839b7bcb307d046a63b5aa9fe313a93bb3dedbb37962fd85575e9bc899f6b110754f911f0420aeacae84ffde811eaf35bf381235acab0795a2db11d225f62dfa641d9263ae00ca8cd9d993926d9b49f48cc7da93743d68fe3e36bf525a303716c4ea2db59b7543c3e5513a1df45195cad643c970b4cef53293bdf3445c6c0719c794f349e2b1baf891ebc9cb10125d5457e58d801c9724b4a9acf9a76c98a81ec2633e5e4c18fe796213ebbc7fc4c30e72abac4da88c268fd187a78609504743d15ec4301d1fe3a8a2e82757291e0c691aa6c721f46f96f9a9b86b48b37ef6a619a4a28cab8ca8e9759a13828080bed42c0b50df7b4e655da7bc40241cc4a8609cac0f39024a6d2e1d4d9bdbcbe82b7a83d0130e5ee796825570e80b7b441e83c1c5fdfc5c39be2ae493d5f4f300ebcd0ac818f879e4a8990824588a63870386289bb5da182809ee8a0e43d0256d542cd8b76aec18ac6672a8d70fb3f38d76a0508eb3d62fb0e18ff3f6899691d255fd091227136391e8f6b25d1529fca7c3f87f5ceedbd9809c4138363766035a84aab51ab475c398ba373788ad2455069ab144bf854675655457166763e2b321eafa3de6dfeec75972a97d6b7bf9656229326f2c837454b04522df15eee2578f52116e218b76f822d870c3cb1d06420d93f9469e63bd36bd12c11140a9e1eb3a55c049c4b77425c18cbc95bf41c84930cac66958fba4da2a81f2dc1c29914c8b4e39035551576f665fdc793192341182e22addd057af92ca776c83d2dd49b70dd06cc7ee114131463ea5e8179a83f140d8ff66226c3a4472f6c8e52f135758c3e781b834878bc5cb964f36353d4c6616acd0f84f6b6db551b6913df272dc645b753d661596c4220b98574be450f1c7c723d5120f731da20c8380a41f770e634fac4856618a254defa1c7039ee98e6122b274c06fddd621ab7b2b7bf108a49e391227a67d6b0f31477761ab8a83ed4c9c1cb0d8f12915a46c1d372f4e4a321a75c388eb57a3747a041498d8d994695c9b2a8b1c6596298e1c7a57b48fb23603516ea848c5277e62291d25c73bd2b23f010b39e532d45bc570fd24a7661aadc1ac000ed27ffc8427aae2b65bf709e71eaa6a3504f2a01ec644d8ff3449c18d14301afdc99ed41409b71bbc10da99e0945bc4a7227c4796c3949d64cd99eae9d6912dd5fa25a1a566b081424a5191ee0627f81c64a857dade79aaaf1e64aaa8343c8ffb1b1762f6edd2712a5532de6841c6a8d89da2fd04e325e7a03e09c2c664d7d3ec9f84d59893b8fdd61b9bb904686b026b84c78cba091fe4bee7628b1afa2d7b3373e5e4155af2da5db76204bab70180f9d4f527bc990838cbd244e6b7ca7f784f8a36b578105a4784d5689b992cca3184d9122d2e89c18c63fc60d88cdc3aaf8a6da8a5064695c00d636a6583828ee9088c57f05be17a2a5677f27c69b77c35d32c4c038e256cb49039c7d458053a7827c06eb1b8a17bad739543999d4158043b7d63dfd1cce143f7b53d3a366ddffb7db1660ff274a74e17df56b06477a7e57fc8e51ecc359e125673dfee4733923d055acb1d866d7094a9cfb0a890ac82c994e6dd5f9b487c310d28d4ef3f2d06c5db332a459f9d6ab5c64738b6d4a59cce42c7c061940aaf5473787d396a35d31f32a5f5284cdfbdeca4b8c4da9a0d1b659493234573a114c0b9e353496ba392b9304c1a8b4139a8a12fc1cffabb637108a655274958d43a61a078b55ed8faeaba71df80b3290a145e8712653653616be0e1a00c76acfa9f084253147c936da5fcc9d16b6f69c2faae2901f3a20a2bb65e2487c4d5854fdc9185a52e840e5b49c9ef93bf3efda98f346afd4669e1ec370f64d5fa0da4735133d62386be737297dc72b54bdc579fe83208daaf78582bd6562aaffe96367c026b6fcb14c9f7840e388426064e53757a4cd7951088cb7edc52a4bfee6d65dc72b1cfe5e18cb6d4b98f422863b263efe0ed263fbccd040ef74aa2cdb3d7633d40636c9a8670b2d8701555e551e604815f46cd0dd76501fafa922730500b699de1308b95aaa661d1456689191c34e12d1f4c4c71c467b645093e4eb16d322e18013a0542f34f3b1d3bd1e09f64284707306380633761a31b21710ba114f4439a7953f3400c44dd4fff09507f5bf2b6dd5febf0c07170449a07956fd90fe3fe136d281fbe7d02056ba83f4abba056f8c1d91779256f949aef05b615b3af9b62662a756a878a82a37d35ec0683fe25a34fe994bb331cc63700eb23fae0eba49e7820a0712c9dfcab4c6aad6b2ad2dbd503be86665029938d83c8e5b28a2814be5d165bc5a88315fa2fa82081e3888636dfc0e5ea9218a568a145d7f05c11f17d62d1573d77aa83ff780fe0d96b4a308bff7df9b7e091a05ae0f06c545021f4aa70a4d357cf346587af75c2ff5adddce7a06dfa2f6c60104102faf406355f6a7beb2f81621d26a51f4d0b2cf696712fbca2bab9f49a3516ba73b76e8dab9a13e4ea86b71e3814095feb2d0621ba5879ecb5d7abb8933b3612e4a75015bf988229da4b934c04265c598e73edf20af3f3dced0410a782edc6d3b8b5dca2bdd333c06ce93bc7ec602a3acf8754340b6fd5f9f24c77ff56345499f141100df4b2b6f522766da3204929c034174b3ede7a2102b0f5640f1398e146f1032d6990652fc6e8daa472713cfd9894500def74e08988d1cbe1f1a9830e3303870c077558bfc6d56760a086f01f9c94b4035513d48cc43472aacf53f6077468fdec697c610361e4e1b383b9bef3cac0170fcc2484890aa31bee848342a5f3be46715a7334f7621f3bf8c9c59999d9bbd603a1497ca57c84b00f617250cdbecdcf11d6b0a4dc60c9d4b9782c66c2909715c6af0e7abd973253a164bf3b0cb9b042498c35ca5860836fb3d46b2a7a1eb0449052ad7c2eda2eb7c389f604e1016e12189d1235b789340f111f8c0f91922369c5148479babe0162542c68dc91ebfb6bf2519d587f30bdaca31aaae0c27d725ab15a94eecfc99382f67ad46307a20f2ba098e9520ba5c20f6f814dc4566818e8e004e20ca1a32137b87e194cd6de9a0e1bd6f8e0c5d879d907d43e8b0033d59ef0b9b3adfaa6e768fb292b9c01c8d8b20d2b7cbb8aeecb2c818ebce72eb11ce79028d7681ff8605b25c6925c84090e07be17b6611bd720786664e3a1280fa939006fce54cefca23cf53cb596dfb25713e994cd7fccc96c10659df998b0aa5516e6766b94909793edbbd6567f72534c7ede3204d76cd0a74c5a426f15ee27bc89b01a43ff0d6ba484fcfff97f6db6ef75f2414215ea7e8f9a4d329dec2adc9d7515fbd2e65b2da15ceb6c26f4aafb0cb6e0f9a67713b939080a1770c203c4e279cf68f9071a88afb13ccc8b31f30c7d83be1f1fa7586c732ac9ed54cb0e913197a4bf1c8d70b0a5701f0be3f53a81734508ddda02da891099cb199ae216552f1caeab5adaebff5dae251faa6d69927d112cdab34e250716b154378f80a501622ef6c0dd0476cd5332611b3b79f95419fcfd0472f5ebb9ec7a0875363a99a742aca638af9db8cd8917d2c748cde9fb85a6b7f1dae0294af8a226e2590a9c4a3da23edee834ed27292d1d3b866eafbf5a638dba40b5fb731594b9269046f0ec2c72ed50477366ccf6c3d4295bd15d09f3f64d2cba6a77c86a3b34a9547a4f3731def416209156a67e83f1f15b67ed2e3bd98742a27b9bd07c1be17708a4d864335f49913cb310b40d60c285cbe234dde3d7a2e9e6c5a8128d61f18f214118885c1bf7782fe610b794741f6b1501d48a72b0306785f7351327f0155a42ca20c044d4d20c39f65efbbf8de98a38128a5ad29885cdf6a2e9d453018d92d7e031cee8f0e2ba10b777b6f64681ceef49fdfe69619b98810d954c9a8148c29ae1987090cb740fdefd00c8cf29ac21160f35b106581ffff87270e5cdfdb0ddbc54fad2098c1fd7975bb54149cfe92e3513143284b9db93afbdd3f2e100b799c6dffab41cddd07de0c9228dd6160a2874a14a5120357d755f1fcf7195985d4de48c7e4d070b667e1247186b3111f8b41d8298212d5b21dbddf8a8fd58faaa7427daea8b91faa9b499b547b3d6e7e740fb194070e4acb4ad3a2e7e5bb471aa0cb8d37dc2fd65ee230ae58eacc9b1985056c0695614dba750a990fdcce5359f9c94a5d2ff210c6afdc42e52370b81362220d40df1b006c6909a8f70d2150f309da42aac66a5d0d092c0baf0be505dab01275c579e7321fdf0a1da79f705a1aa508be8ef07ca7b8bb60e12587ed090b9e19f049b5fabd2f792f125f200448fc612b7efefe42d0035238668c8109b8ca4051b573ee172d48bec57996f553028650d48f5a3a5d30910232fce2d8993851dffafafd9830b5a9029cb3030ae5fd46abb7255320b4c9472348ab23982b07314a7829bed2680d7f59c5689d711beee0165f4dc1b07fd36d0e8d61ec75317596516011c418bee38a77cb77fdc9bab2f62c23b767b93c0829ef072673c14a576e2d8c0f644612a15e6e1d9e75dcb897e8036b5c089a53300d8d6504e5d5971981ceded286e82d4253223c4b923fa1d8d348f4f3a5b29c320238b175acd5fd9f91381c4e48457c02bac8231db503c15fba0b26fd287fd546743f3a01decc91ff83f1c6fde963b286ac3790cbb75e09ebff6401b97b8fcaccaaaa459c0ae51366d8f75f0722141017ec4174fa731dc663eb1658004bceb68d15b99e0d2f4a8720a6845e3b8c79c8f01a8a9cd0bc760eefb51a2285ff6690e75d624ee9d654f0349cb2916d22c229773f262654bace4444889ecef2499df447a41c6ac25bff2c0bb3fe72a1d96e138f02d9653fb5882d54682a04d747184ff2bc508d3b84445d05de3be4bc19614a0af1f7f080da56622e7fc4b76ce493b48ec5615ffc168c6c236037d2e3b19683aaf211c72dd789c0f21ddc9aef416da5a5457885509fcf012815679ba8c029e0677183e744cda7e0a757d91ae33511d9e9612075948408e7a7e87c50f5caedc5da9835ce5ccf42f3cfb90a08c0fbfe2c0bd5e8da743e42b44fc04e2fedfe609d743861a9639267d0d105ff2697d5f03de1ee4ad88aca61db4daedfe458427e894a7e1bcd4066db26a3df999d0f1933d12d9cd5a5c485d41f44a8d0d4fe899274ac27997e64cdd6cfc70e426989cb54c0bc04bbaecdb2fd4a820afec35b30f64b3426c4a070fd6071a929a0f241820bf1a1bfc65c2ff8b9c6d9822d223b55084d0a6b79e4888de5bd7f669ed0ad4adb5745a3f2e47bea580e1815dc830992a2f8e63746e91b7c3d2f9c4321c5d8b5a016ee086a4445ce98a9efe187e97d52a387dc340b881a63d5682c2665feeed599b50908b70e5e04ca2f81af47d449155c7ea424e236a6f9ac34ba9f0dcdccc6e6be05d7d88ff451a8260eaf656c62de373281ad40fb4406c428fdbdbbf0d941849c003c4e396319f711849371632378a8e29a636ae61180c8786a744069e85a599ee4f4e3bcf3a75517cf97f1a9ea9988cc8dda63f807d84dab3b0c87ebb26ace981f1ae1a339f13a9255fc04f724893f5341b69b9417be6e4bfe13c1aa28cd992eb27fbe47d4b1693c20016055ebc7c24e64ccdd187e4a43ffde3be3908b47d1b4d4c23e431ec1bfcfd1e48dc75a249b50b14c72286fd978ac4881168768bd31174d1773e1c4b9ca8b49cff953e525d5ffe90c742ed06b21b1d00a5a6b15ace65120b7ef6fd1153198e692467890b6adfaa9d86ed706d2a1b96c7fcc214978169d290fa35f8a7eb3b22607345698e2a3a19bd862de4e1e68e30e6d87d60697dd60aca0ec4e2c08a1e76fb24d8c0f48c2658b3f29e35c86f4ca2fb052f599e50756fa59503f3a4d2e537b378b0deb47c91ef544fd053792bdd3546f659911cae5b31f1eda4186da43ce72fa154ea6c352177a2fc707ab0f0fe9ce6b48fd73c42671c791715e0c238d8b18d5a13073d279ad2f2c8fdc5be1c6c79f04af4d362fcdae4e93d6c38c61f42c8be8b52bea70f2d36f019e31a32a493b4f2db8414a8cd944ce72f3312371b6375b42d10ca5c9d7154d40aa0b04c976f5dcf911e2270ed796cab3a17b4f35561896881614f631124e8dac144af9cfdac7bcfcf65e7fc7dbecfa1ca4443e7b09c05571a709ac13366b3a97d710c4aedcf613676e83b10b58c87f20bd374c0af8186aebf44150406ea82c5597d01c264e0d47ae3b240ce6c7edbeda329b0957d991cbb8b278f74e7c755131dd58bb2a4ce2b79a3c2fd6be83bf67574246cb4b13e3d08e04492a5c986911160eecfa929d6ac3a4c7d0d4fa286a66d2c025bd0c79f509524d98d1415d687da16043599adffca6a9ee5b190006cd04f382a617a36bef5534fdc5d747b242e925b4fcdd7fb3a90d05aa2468c7ce1d5eaf62e5b7da5a947252330db6ee7d2a58d36613dc7cc4c1bee9f0aa353ffe8930fbf1f0818bfaff637ef36c50c63460f85c70c2eb611f0d0187224521bb78f2ff442c1aa4e0f8ca4e518ac88302389c73133a77e5b493e6da2c8a3dc918a03601f003d76e6b0bc3eb66496463e196288f3d70c9054759f9234c92ed199f35761e3c8e8547f713a77b3d17fedf69bb926e0810b729ebb003f5aee6ee80aa7cdbb290f7c4a1d5b145e2c4d40cc90871493a91f2b901c424c2753cd947f004df4b3c64b490cf40622e714f6dfb8ac92ff379f977610595ac87474f5160b21bd40d0822bb0cfe94adce6faf94aad5270ccaf7a5e651f2ffa0d1d1ee429668c539679e429e39e7a842ced3bc1a16bf4bd7f062e5b9a6c4755d1c2579a9ca4c13898ad3dfccc7cebd0891f98576c1a9bcb6ae1510a9c05f592ce6724259d2653c15bf50cb06d2653f67aeb7189fe8ac3bcf0eaf0d996a67100c9cb31835873286c107b30fd8c78add8d0470e348d93132a9297716ffdb785d02120888e62187fd36db1ea9fac7b0437119de01c57f0d13a67198277cf9ced146f0a1abc2dd00571888961d8b14cd5c22a5c4f78736ded4bec206fee7f414e25a33a623c0b18811f7b5129a9c6eeab4771d8f4a692e0c179b06a654cb15a39c7ca4d3037e394c7b68e89673d5fc56abc9a22bf126641810765693997c5d64fab9261df1f16a3acea558174592521e638d4ef8f2e01c4cb5e47bbb810959dcff7b34395b6e70e0003874d26560167518b7c447f4227b62dc125f48c7a3896531569090fef5165b34d27eb7a865f0dda6f42ad1d2fa5758b4c8a8539a86e44391956cf77b12292ecc7375c6b656aa91f484cd6f45bd2c1c202cd8c8c8b90f93e4afcc545f0f3198e53ec1e3a4dc32fe618700719da98a54d6c1262f60133324cea637649532b9571d3be03342f5359113eea881f12d378b1b5bb3a4356142f72e90c1e0fbfa7798ea778feee8778f183afd0838200a15bc0f27765586241653e9d180505e4f9880c0f25ef276d8eb5d9f98932580664448cbd0fe6f085614cf3df824f6a0cea70274f7fb84048702b51cb13137c54cb0949082bee80f99cd8b9f6293722aad5cc38e335ebcc25d0054d7d6a1c9e9137e4465acd8afdee2ab320e4d62e939ddb4b081d245aa4d4079ae552a25705d6ddf00a388a0bc694f9490760febe30ee6dde8d1a9c0d8bd8209220a1fca582305b2b6e1d8a36ba1c169231aafd8ad0ce3f4aa9df993fd5b268f522fba59ef88f5ff97b89f2eb56a3aff660eb16b23699c79ac786b3c16c64667e61e38a733ef1654e9f0180303a848ec67821af5cef238aee4c2cf6dc01f81d88e7ea33ca1ad601df378372144e418306f26b0fb0a49d5c7fb7ca899ca6f08ec12615642ac02cfa7b2728a20825a50c61b47229e71c61d2926ce11f4d239e8da24dc3bb2a6099e03cfa683b42916bcecc6bce3311a614a811aa802bdaf2ae959b6cd1f0e0640c2c9746d577ad5597095d09557abae6c93e89d1f3d65be93d85f650e2d7aad72e2b24d5306292d055a51c7a81545ddaf4d3097a2c1200baab5e1e990034e7ef8c6823f27ef8422ebceee58fd6a1722ad46ac016fbf2ac8421278c03458d5dd107b42d7421a71ab1a',
        type = 'pvdata',
        signObj = `update backup file${originCt}for${did}with${key}type${type}`,
        sign = tokenSDKServer.sign({keys: privStr, msg: signObj}),
        signStr = `0x${sign.r.toString('hex')}${sign.s.toString('hex')}00`
        isok = tokenSDKServer.verify({sign})
    // console.log('sign', sign)
    // console.log('signStr', signStr)
    // console.log('isok', isok) // true


    tokenSDKServer.backupData(did, key, 'pvdata', originCt, signStr).then(response => {
      console.log('response', response.data)
    }).catch(error => {
      console.log('error', error)
    })

    res.status(200).json({
      result: true,
      message: '',
      data: ''
    })
  })
  .put(cors.corsWithOptions, (req, res, next) => {
    res.send('put')
  })
  .delete(cors.corsWithOptions, (req, res, next) => {
    res.send('delete')
  })

// 得到pvdata
router.route('/getPvdata')
  .options(cors.corsWithOptions, (req, res) => {
    res.sendStatus(200)
  })
  .get(cors.corsWithOptions, (req, res, next) =>{
    // res.send('get')
    // 解密
    let {didttm, idpwd} = require('../tokenSDKData/privateConfig.js')//.didttm.did
    let priStr = JSON.parse(tokenSDKServer.decryptDidttm(didttm, idpwd).data).prikey
    tokenSDKServer.getPvData(didttm.did).then(response => {
      // console.log(response.data)
      if (response.data.result) {
        let pvdataCt = response.data.result.data
        let pvdata = tokenSDKServer.decryptPvData(pvdataCt, priStr)
        pvdata = JSON.parse(pvdata)
        // console.log('pvdata', pvdata)
        // pvdata.pendingTask = {}
        // let ct = tokenSDKServer.encryptPvData(pvdata, priStr)
        // console.log('ct', ct)
        res.status(200).json({
          result: true,
          message: '',
          data: pvdata
        })
      }
    }).catch(error => {
      console.log(error)
      res.status(500).json({
        result: false,
        message: '',
        data: error
      })
    })
  })
  .post(cors.corsWithOptions, (req, res, next) => {
    res.send('post')
  })
  .put(cors.corsWithOptions, (req, res, next) => {
    res.send('put')
  })
  .delete(cors.corsWithOptions, (req, res, next) => {
    res.send('delete')
  })

module.exports = router;
